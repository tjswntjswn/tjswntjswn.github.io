---
layout: default
title: Category
permalink: /category/
---

<div id="category-view-area">
    
    <div class="category-main-card">
        
        <div class="category-header">
            <h1 id="category-title"># All Posts</h1>
            <button id="btn-show-all" onclick="window.location.hash='';" title="전체 보기">
                전체 보기
            </button>
        </div>

        <div class="category-divider"></div>

        <ul class="post-list-container">
            {% for post in site.posts %}
            <li class="post-item" data-categories="{{ post.categories | join: ' ' }}">
                <a href="{{ post.url | relative_url }}">
                    {% if post.categories.size > 0 %}
                        <span class="cat-name">[{{ post.categories | last }}]</span>
                    {% endif %}
                    <span class="post-title-text">{{ post.title }}</span>
                </a>
                
                <div class="post-meta-wrapper">
                    <span class="comment-cnt-target" data-title="{{ post.title }}">
                        </span>
                    <span class="post-date-text">{{ post.date | date: "%Y.%m.%d" }}</span>
                </div>
            </li>
            {% endfor %}
        </ul>

    </div> </div>

<script>
    function filterPosts() {
        var hash = decodeURIComponent(window.location.hash.substring(1));
        var titleElement = document.getElementById('category-title');
        var posts = document.getElementsByClassName('post-item');
        var btnShowAll = document.getElementById('btn-show-all');

        if (!hash) {
            titleElement.innerText = "# All Posts"; // 기본 제목
            if(btnShowAll) btnShowAll.style.display = 'none';
            for (var i = 0; i < posts.length; i++) {
                posts[i].classList.remove('hidden');
            }
            return;
        }

        // 캡쳐처럼 "# 기록" 형태로 표시
        titleElement.innerText = "# " + hash;
        if(btnShowAll) btnShowAll.style.display = 'inline-block';

        for (var i = 0; i < posts.length; i++) {
            var postCats = posts[i].getAttribute('data-categories');
            if (postCats.includes(hash)) {
                posts[i].classList.remove('hidden');
            } else {
                posts[i].classList.add('hidden');
            }
        }
    }

    window.addEventListener('load', filterPosts);
    window.addEventListener('hashchange', filterPosts);
</script>

<style>
    .hidden { display: none !important; }
</style>