---
layout: default
---
<div class="post-layout"> 
    
    <div class="post-main-column">
        
        <article class="post-card">
            <header class="post-header">
                <div class="post-meta-top">
                    {% if page.categories.size > 0 %}
                        <span class="title-category">[{{page.categories | join: ' - '}}]</span>
                        <span class="meta-divider">|</span>
                    {% endif %}

                    <span class="post-date-detail">{{page.date | date: "%Y. %m. %d"}}</span>
                    <span class="meta-divider">|</span>
                    <span class="comment-cnt-target" data-url="{{page.url}}" data-title="{{page.title | escape}}" style="font-size: 0.9rem; color: #888; opacity: 0; transition: opacity 0.5s;">ğŸ’¬ 0</span>
                </div>

                <h1 class="post-title-detail">{{page.title}}</h1>
            </header>

            <div class="post-body">{{content}}</div>

            <div class="post-interaction">
                <button id="btn-like" class="btn-like" onclick="fireConfetti()">
                    <span class="icon">ğŸ’–</span> <span id="like-text">ì‘ì›í•˜ê¸°</span>
                </button>
                <button class="btn-share" onclick="copyLink()">
                    <span class="icon">ğŸ”—</span> ê³µìœ í•˜ê¸°
                </button>
            </div>
        </article>

        <div id="toast-msg">ì£¼ì†Œê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤! ğŸ“‹</div>

        <div class="related-posts-area">
            <h3 class="related-title-label">ì´ ê¸€ë„ ì½ì–´ë³´ì„¸ìš” ğŸ¯</h3>
            <div class="related-list">
                {% assign maxRelated = 3 %}
                {% assign count = 0 %}
                
                {% for post in site.posts %}
                    {% if post.url == page.url %}{% continue %}{% endif %}
                    {% if post.categories[0] == page.categories[0] %}
                        <a href="{{ post.url | relative_url }}" class="related-card">
                            <span class="related-date">{{ post.date | date: "%Y.%m.%d" }}</span>
                            <h4 class="related-title">{{ post.title }}</h4>
                        </a>
                        {% assign count = count | plus: 1 %}
                        {% if count >= maxRelated %}{% break %}{% endif %}
                    {% endif %}
                {% endfor %}

                {% if count == 0 %}
                    {% for post in site.posts limit:3 %}
                        {% if post.url == page.url %}{% continue %}{% endif %}
                        <a href="{{ post.url | relative_url }}" class="related-card">
                            <span class="related-date">{{ post.date | date: "%Y.%m.%d" }}</span>
                            <h4 class="related-title">{{ post.title }}</h4>
                        </a>
                    {% endfor %}
                {% endif %}
            </div>
        </div>

        <div class="post-card comment-section">
            <div class="comment-header">
                <h3 class="comment-title">Comments ğŸ’¬</h3>
                <p class="comment-desc">ê¶ê¸ˆí•œ ì ì´ë‚˜ ì‘ì›ì˜ í•œë§ˆë””ë¥¼ ë‚¨ê²¨ì£¼ì„¸ìš”!</p>
            </div>
            <script src="https://utteranc.es/client.js" repo="tjswntjswn/tjswntjswn.github.io" issue-term="pathname" theme="github-light" crossorigin="anonymous" async></script>
        </div>

    </div>

    <aside class="toc-sidebar collapsed">
        <div class="toc-container collapsed">
            <div class="toc-header" onclick="toggleToc()">
                <h3 style="font-size: 1.5rem;">ğŸ“Œ</h3>
                <span id="toc-toggle-icon">â–¼</span>
            </div>
            <div id="toc-content"></div> 
        </div>
    </aside>

</div>

<script>
    // ëª©ì°¨ ë° ìŠ¤í¬ë¡¤ë°” ê¸°ëŠ¥
    function toggleToc() {
        document.querySelector('.toc-container').classList.toggle('collapsed');
        document.querySelector('.toc-sidebar').classList.toggle('collapsed');
    }

    document.addEventListener('DOMContentLoaded', function() {
        var tocContainer = document.getElementById('toc-content');
        var headings = document.querySelectorAll('.post-body h2, .post-body h3');
        
        if (headings.length === 0 && document.querySelector('.toc-sidebar')) {
            document.querySelector('.toc-sidebar').style.display = 'none';
        } else {
            var ul = document.createElement('ul');
            headings.forEach(function(heading, index) {
                var li = document.createElement('li');
                var a = document.createElement('a');
                if(!heading.id) heading.id = 'heading-' + index;
                a.href = '#' + heading.id;
                a.textContent = heading.innerText;
                a.className = heading.tagName.toLowerCase() + '-link';
                li.appendChild(a);
                ul.appendChild(li);
            });
            tocContainer.appendChild(ul);
        }

        if (!document.getElementById("progress-container")) {
            var barContainer = document.createElement("div");
            barContainer.id = "progress-container";
            barContainer.innerHTML = '<div id="progress-bar"></div>';
            document.body.appendChild(barContainer);
        }

        window.addEventListener('scroll', function() {
            var winScroll = document.body.scrollTop || document.documentElement.scrollTop;
            var height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            var scrolled = (height > 0) ? (winScroll / height) * 100 : 0;
            var bar = document.getElementById("progress-bar");
            if(bar) bar.style.width = scrolled + "%";
        });
    });
</script>